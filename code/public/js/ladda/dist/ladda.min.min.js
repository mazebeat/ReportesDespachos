(function(d,c){if(typeof exports==="object"){module.exports=c()}else{if(typeof define==="function"&&define.amd){define(["./spin"],c)}else{d.Ladda=c(d.Spinner)}}})(this,function(m){var l=[];function n(d){if(typeof d==="undefined"){console.warn("Ladda button target must be defined.");return}if(!d.querySelector(".ladda-label")){d.innerHTML='<span class="ladda-label">'+d.innerHTML+"</span>"}var b=k(d);var c=document.createElement("span");c.className="ladda-spinner";d.appendChild(c);var a;var e={start:function(){d.setAttribute("disabled","");d.setAttribute("data-loading","");clearTimeout(a);b.spin(c);this.setProgress(0);return this},startAfter:function(f){clearTimeout(a);a=setTimeout(function(){e.start()},f);return this},stop:function(){d.removeAttribute("disabled");d.removeAttribute("data-loading");clearTimeout(a);a=setTimeout(function(){b.stop()},1000);return this},toggle:function(){if(this.isLoading()){this.stop()}else{this.start()}return this},setProgress:function(f){f=Math.max(Math.min(f,1),0);var g=d.querySelector(".ladda-progress");if(f===0&&g&&g.parentNode){g.parentNode.removeChild(g)}else{if(!g){g=document.createElement("div");g.className="ladda-progress";d.appendChild(g)}g.style.width=(f||0)*d.offsetWidth+"px"}},enable:function(){this.stop();return this},disable:function(){this.stop();d.setAttribute("disabled","");return this},isLoading:function(){return d.hasAttribute("data-loading")},getTarget:function(){return d}};l.push(e);return e}function j(a,c){c=c||{};var d=[];if(typeof a==="string"){d=i(document.querySelectorAll(a))}else{if(typeof a==="object"&&typeof a.nodeName==="string"){d=[a]}}for(var b=0,e=d.length;b<e;b++){(function(){var p=d[b];if(typeof p.addEventListener==="function"){var f=n(p);var g=-1;p.addEventListener("click",function(){f.startAfter(1);if(typeof c.timeout==="number"){clearTimeout(g);g=setTimeout(f.stop,c.timeout)}if(typeof c.callback==="function"){c.callback.apply(null,[f])}},false)}})()}}function h(){for(var a=0,b=l.length;a<b;a++){l[a].stop()}}function k(c){var e=c.offsetHeight,g;if(e>32){e*=0.8}if(c.hasAttribute("data-spinner-size")){e=parseInt(c.getAttribute("data-spinner-size"),10)}if(c.hasAttribute("data-spinner-color")){g=c.getAttribute("data-spinner-color")}var d=12,f=e*0.2,a=f*0.6,b=f<7?2:3;return new m({color:g||"#fff",lines:d,radius:f,length:a,width:b,zIndex:"auto",top:"50%",left:"50%",className:""})}function i(b){var c=[];for(var a=0;a<b.length;a++){c.push(b[a])}return c}return{bind:j,create:n,stopAll:h}});