reporteDespacho.directive("loading", function () {
    return {
        restrict: "E",
        replace: true,
        template: '<div class="loading" style="margin-top: 15px;"><img src="images/loaders/loader3.gif"/></div>',
        link: function (c, b, a) {
            c.$watch("loading", function (d) {
                if (d) {
                    $(b).show()
                } else {
                    $(b).hide()
                }
            })
        }
    }
});
reporteDespacho.directive("showFolders", ["rootFactory", function (a) {
    return {
        scope: {ngModel: "="},
        link: function (d, c, b) {
            d.root = a.raiz
        },
        template: '<a href="{{ root }}/dashboard/folder/{{ ngModel.root }} "><i class="fa fa-folder-open fa-fw"></i> {{ ngModel.name }}</a>'
    }
}]);
reporteDespacho.directive("datepicker", function () {
    return {
        restrict: "A", require: "ngModel", link: function (d, e, c, b) {
            var f = function (g) {
                d.$apply(function () {
                    b.$setViewValue(g)
                })
            };
            var a = {
                dateFormat: "dd/mm/yy", onSelect: function (g) {
                    f(g)
                }
            };
            e.datepicker(a)
        }
    }
});
reporteDespacho.directive("checkboxGroup", function () {
    return {
        restrict: "E", controller: function (c, a) {
            var b = this;
            var d = [];
            var e;
            b.validate = function () {
                var f = 0;
                angular.forEach(d, function (h) {
                    if (h.$modelValue) {
                        f++
                    }
                });
                var g = f >= e;
                angular.forEach(d, function (h) {
                    h.$setValidity("checkboxGroup-minRequired", g, b)
                })
            };
            b.register = function (f) {
                d.push(f)
            };
            b.deregister = function (g) {
                var f = this.ngModels.indexOf(g);
                if (f != -1) {
                    this.ngModels.splice(f, 1)
                }
            };
            c.$watch(a.minRequired, function (f) {
                e = parseInt(f, 10);
                b.validate()
            })
        }
    }
});
reporteDespacho.directive("input", function () {
    return {
        restrict: "E", require: ["?^checkboxGroup", "?ngModel"], link: function (c, b, a, e) {
            var d = e[0];
            var f = e[1];
            if (a.type == "checkbox" && d && f) {
                d.register(f);
                c.$watch(function () {
                    return f.$modelValue
                }, d.validate);
                c.$on("$destroy", function () {
                    d.deregister(f)
                })
            }
        }
    }
});